# Тестовое задание на стажировку Backend в VK, июль 2025

## Дополнительно реализовано

1. **Логирование**  
   - Все логи сохраняются в файл `./logs/main.log` (создаётся при запуске)
   - Директория логов добавлена в `.gitignore`, чтобы логи не попадали в репозиторий

2. **Частичное тестирование**

---

## [Проект расположен на публичном хостинге с помощью сервиса railway.com](https://govkintern-production.up.railway.app)

## Инструкция для запуска

### 1. Клонируйте репозиторий

```bash
git clone https://github.com/K1tten2005/go_vk_intern.git
cd go_vk_intern
```

### 2. Убедитесь, что установлен Docker Compose

Если ещё не установлен — [вот инструкция от Docker](https://docs.docker.com/compose/install/).

### 3. Соберите и запустите контейнеры

Выполните из корня проекта:

```bash
docker compose up --build -d
```

### 4. Настройки

Все переменные окружения находятся в `.env` файле в корне проекта. Очевидно, это не безопасное решение, но в рамках тестового задания выглядит как самый удобный вариант для использования переменных окружения в проекте.


## Проверка работы

После запуска проект будет доступен по адресу:  
`http://localhost:8080`

---

## Postman

В директории `./postman/local` лежит коллекция с готовыми запросами, которые использовались для ручного локального тестирования API. Также в директории `./postman/public` содержится коллекция запросов на публичный хостиг.

 Для импортирования запросов нужно открыть postman и, нажав на `Import` в левом верхнем углу, выбрать JSON из нужной директории

## Детали реализации
### Ручка /signup
После успешной регистрации пользователя в теле ответа возвращается JWT токен, который потом в запросах, требующих авторизацию, надо класть в заголовок "Authorization": "Bearer <значение токена>". При этом после авторизации повторное использование ручек /signin и /signup не блокируется (при условии, что в /signup подаются другие данные для авторизации), просто выдается новый JWT токен в теле.

### Ручка GET /ad

Для фильтрации отдаваемых значений используются следующие праметры строки запроса:

- `page`: номер страницы
- `limit`: количество объявлений на одной странице
- `sort_by`: принимает значения `price`/`created_at`, сортировка по цене или по дате создания объявления
- `order`:  принимает значения `asc`/`desc`, сортировка по возрастанию или по убыванию
- `price_min` и `price_max`: диапазон цен, по которому будет происходить фильтрация

### Архитектура проекта

Проект соответствует чистой архитектуре, разделен на слои delivery -> usecase -> repo

### Хранение цены

В запросах и ответах цена принимается и отдаётся как float64, однако в рамках самого backend-сервиса все цены от delivery до repo передаются в копейках и, соответственно, в БД хранятся как int


